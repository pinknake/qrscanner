<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QR Tool - Bharat</title>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #f0f8ff, #e0f7fa);
      color: #333;
      text-align: center;
      padding: 20px;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      margin-bottom: 10px;
    }
    textarea, input[type="file"] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin: 10px 0;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      padding: 10px 20px;
      margin: 10px 5px;
      border: none;
      border-radius: 8px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    #qrcode, #reader {
      margin-top: 20px;
    }
    #result {
      margin-top: 15px;
      font-weight: bold;
      color: green;
    }
    #langSelect {
      margin-bottom: 10px;
    }
    .ad-bottom, .ad-top, .ad-native {
      width: 100%;
      text-align: center;
      margin: 10px auto;
      z-index: 999;
    }
    .ad-bottom {
      position: fixed;
      bottom: 0;
      left: 0;
      background: #f8f8f8;
    }
    .ad-social {
      position: fixed;
      bottom: 80px;
      right: 10px;
      width: 300px;
      max-width: 90vw;
      z-index: 9999;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      padding: 5px;
    }
  </style>
</head>
<body>  <!-- üîù Top Banner Ad -->  <div class="ad-top">
    <script>
      atOptions = {
        'key' : '2839a3c1ca8fc9e07589a1b83ea67a15',
        'format' : 'iframe',
        'height' : 50,
        'width' : 320,
        'params' : {}
      };
    </script>
    <script src="//www.highperformanceformat.com/2839a3c1ca8fc9e07589a1b83ea67a15/invoke.js"></script>
   <script src="//www.profitableratecpm.com/xxdtyd65?key=b95ecd1ba40d7b1c5d09cfd59c8b06c3/invoke.js"></script>
</div>  <div class="container">
    <h2 id="title">üîç QR Tool - Bharat üáÆüá≥</h2>
    <select id="langSelect" onchange="changeLanguage()">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    </select><textarea id="qrText" placeholder="Enter URL, text or payment link..."></textarea>
<button onclick="generateQR()">Generate QR</button>
<div id="qrcode"></div>
<button onclick="shareQR()">Share QR</button>

<hr />
<div id="reader" style="width: 100%; max-width: 400px;"></div>
<p id="result">Result will appear here...</p>
<input type="file" id="imageUpload" accept="image/*" onchange="scanImage(event)" />

<!-- üîÅ Native Ad -->
<div class="ad-native">
  <script async="async" data-cfasync="false" src="//pl26993212.profitableratecpm.com/f411671ee1d0146704d13266d9687f63/invoke.js"></script>
  <div id="container-f411671ee1d0146704d13266d9687f63"></div>
</div>

  </div>  <!-- üî≤ Social Ad -->  <div class="ad-social">
    <script src="//pl27011960.profitableratecpm.com/ef/1a/43/ef1a432319118bcb45467ce0fd7f2ff4.js"></script>
  </div>  <!-- üîª Bottom Banner Ad -->  <div class="ad-bottom">
    <script>
      atOptions = {
        'key' : '2839a3c1ca8fc9e07589a1b83ea67a15',
        'format' : 'iframe',
        'height' : 50,
        'width' : 320,
        'params' : {}
      };
    </script>
    <script src="//www.highperformanceformat.com/2839a3c1ca8fc9e07589a1b83ea67a15/invoke.js"></script>
  </div>  <script>
    let qr;
    function generateQR() {
      const text = document.getElementById("qrText").value.trim();
      if (!text) return alert("Please enter text or URL");
      document.getElementById("qrcode").innerHTML = "";
      qr = new QRCode("qrcode", { text: text, width: 256, height: 256 });
    }
    function shareQR() {
      const img = document.querySelector("#qrcode img");
      if (!img) return alert("Generate QR first");
      if (navigator.share) {
        fetch(img.src).then(res => res.blob()).then(blob => {
          const file = new File([blob], "qr.png", { type: blob.type });
          navigator.share({ files: [file], title: "QR Code", text: "Scan this QR code" });
        });
      } else {
        alert("Sharing not supported in this browser");
      }
    }


    function makeClickable(text) {
  const urlRegex = /(https?:\/\/[^\s]+|www\.[^\s]+|[a-zA-Z0-9._%+-]+@[a-zA-Z.-]+\.[a-zA-Z]{2,}|upi:[^\s]+)/gi;
  return text.replace(urlRegex, function(url) {
    let clickableUrl = url;
    if (url.startsWith("www")) clickableUrl = "https://" + url;
    return `<a href="${clickableUrl}" target="_blank" style="color:#007bff;font-weight:bold;">${url}</a>`;
  });
}
    
    function scanImage(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        const img = new Image();
        img.src = reader.result;
        img.onload = () => {
          const canvas = document.createElement("canvas");
          canvas.width = img.width;
          canvas.height = img.height;
          const ctx = canvas.getContext("2d");
          ctx.drawImage(img, 0, 0);
          const scanner = new Html5Qrcode("reader");
          scanner.scanFile(file, true).then(decoded => {
           document.getElementById("result").innerHTML = makeClickable(decoded);
            scanner.clear();
          }).catch(err => alert("Failed to scan: " + err));
        };
      };
      reader.readAsDataURL(file);
    }
    function changeLanguage() {
      const lang = document.getElementById("langSelect").value;
      const textMap = {
        en: { title: "üîç QR Tool - Bharat üáÆüá≥", placeholder: "Enter URL, text or payment link...", result: "Result will appear here..." },
        hi: { title: "üîç QR ‡§ü‡•Ç‡§≤ - ‡§≠‡§æ‡§∞‡§§ üáÆüá≥", placeholder: "‡§Ø‡•Ç‡§Ü‡§∞‡§è‡§≤, ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§Ø‡§æ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§≤‡§ø‡§Ç‡§ï ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç...", result: "‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§Ø‡§π‡§æ‡§Å ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ..." },
        bn: { title: "üîç QR ‡¶ü‡ßÅ‡¶≤ - ‡¶≠‡¶æ‡¶∞‡¶§ üáÆüá≥", placeholder: "‡¶á‡¶â‡¶Ü‡¶∞‡¶è‡¶≤, ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶¨‡¶æ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶¶‡¶ø‡¶®...", result: "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá..." }
      };
      const t = textMap[lang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("qrText").placeholder = t.placeholder;
      document.getElementById("result").innerText = t.result;
    }
    Html5Qrcode.getCameras().then(devices => {
      if (devices && devices.length) {
        const cameraId = devices[0].id;
        const scanner = new Html5Qrcode("reader");
        scanner.start(cameraId, { fps: 10, qrbox: 250 }, (decodedText) => {
          document.getElementById("result").innerHTML = makeClickable(decoded);
        });
      }
    });
  </script></body>
</html>
